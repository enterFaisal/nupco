<!DOCTYPE html>
<html lang="ar" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
    />
    <title>ุญูููุฉ ุฃู ุฎุฏุนุฉ - ุงูุดุงุดุฉ ุงูุฑุฆูุณูุฉ</title>
    <link
      rel="icon"
      href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>๐ฎ</text></svg>"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;600;800&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="host.css" />
  </head>
  <body>
    <!-- Fixed brand header -->
    <header class="brand-header" aria-label="ุงูุดุฑูุท ุงูุนููู">
      <img class="brand-left" src="/shared/logo.svg" alt="ุดุนุงุฑ ููุจูู" />
      <img class="brand-right" src="/shared/slogan.png" alt="ุดุนุงุฑ ุงูุญููุฉ" />
    </header>

    <!-- Main game container -->
    <main class="game-wrap">
      <!-- Waiting Screen: QR Code -->
      <div id="waiting-screen" class="screen">
        <div class="content-center">
          <h1 class="game-title">ุญูููุฉ ุฃู ุฎุฏุนุฉ</h1>
          <p class="subtitle">ุงูุณุญ ุฑูุฒ QR ููุงูุถูุงู ุฅูู ุงููุนุจุฉ</p>

          <!-- Horizontal layout: Player 1 - QR - Player 2 -->
          <div class="waiting-layout">
            <!-- Player 1 on left -->
            <div class="player-slot" id="player1-slot">
              <div class="player-icon">๐ค</div>
              <div class="player-label">ุงููุงุนุจ 1</div>
              <div class="status-indicator waiting"></div>
            </div>

            <!-- QR code in middle (lower position) -->
            <div class="qr-wrapper">
              <div class="vs-divider">VS</div>
              <div class="qr-container">
                <canvas id="qr-canvas"></canvas>
              </div>
            </div>

            <!-- Player 2 on right -->
            <div class="player-slot" id="player2-slot">
              <div class="player-icon">๐ค</div>
              <div class="player-label">ุงููุงุนุจ 2</div>
              <div class="status-indicator waiting"></div>
            </div>
          </div>

          <button id="start-game-btn" class="btn primary hidden">
            ุงุจุฏุฃ ุงููุนุจุฉ
          </button>
        </div>
      </div>

      <!-- Question Screen -->
      <div id="question-screen" class="screen hidden">
        <div class="hud">
          <div class="pill">
            ุงูุณุคุงู <span id="round-number">1</span> ูู
            <span id="total-rounds">10</span>
          </div>
          <div class="pill timer-pill">
            <span id="timer">10</span>
            <span class="timer-label">ุซุงููุฉ</span>
          </div>
        </div>

        <div class="question-card">
          <div class="question-text" id="question-text">
            ูู ูุฐู ุญูููุฉ ุฃู ุฎุฏุนุฉุ
          </div>
        </div>

        <!-- Player Answer Status -->
        <div class="player-answers">
          <div class="player-answer-box" id="player1-answer">
            <div class="player-name">ุงููุงุนุจ 1</div>
            <div class="answer-status waiting">โฑ๏ธ ูู ุงูุงูุชุธุงุฑ...</div>
            <div class="score-display">
              ุงูููุงุท: <span id="player1-score">0</span>
            </div>
          </div>

          <div class="player-answer-box" id="player2-answer">
            <div class="player-name">ุงููุงุนุจ 2</div>
            <div class="answer-status waiting">โฑ๏ธ ูู ุงูุงูุชุธุงุฑ...</div>
            <div class="score-display">
              ุงูููุงุท: <span id="player2-score">0</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Results Screen -->
      <div id="results-screen" class="screen hidden">
        <div class="correct-answer-card">
          <div class="answer-label">ุงูุฅุฌุงุจุฉ ุงูุตุญูุญุฉ:</div>
          <div class="answer-value" id="correct-answer">ุญูููุฉ</div>
        </div>

        <!-- Results Comparison -->
        <div class="results-comparison">
          <div class="player-result" id="player1-result">
            <div class="player-name-large">ุงููุงุนุจ 1</div>
            <div class="result-info">
              <div class="result-answer">
                <span class="answer-badge" id="player1-result-answer"
                  >ุฎุฏุนุฉ</span
                >
              </div>
              <div class="result-points">
                <span class="points-earned" id="player1-points-earned">+0</span>
              </div>
            </div>
          </div>

          <div class="player-result" id="player2-result">
            <div class="player-name-large">ุงููุงุนุจ 2</div>
            <div class="result-info">
              <div class="result-answer">
                <span class="answer-badge" id="player2-result-answer"
                  >ุญูููุฉ</span
                >
              </div>
              <div class="result-points">
                <span class="points-earned" id="player2-points-earned"
                  >+150</span
                >
              </div>
            </div>
          </div>
        </div>

        <!-- Leaderboard -->
        <div class="leaderboard">
          <div class="leaderboard-bars">
            <div class="leaderboard-row">
              <span class="player-name-lb">ุงููุงุนุจ 1</span>
              <div class="score-bar-container">
                <div
                  class="score-bar"
                  id="player1-score-bar"
                  style="width: 60%"
                ></div>
                <span class="score-value" id="player1-total-score">450</span>
              </div>
            </div>
            <div class="leaderboard-row">
              <span class="player-name-lb">ุงููุงุนุจ 2</span>
              <div class="score-bar-container">
                <div
                  class="score-bar"
                  id="player2-score-bar"
                  style="width: 80%"
                ></div>
                <span class="score-value" id="player2-total-score">600</span>
              </div>
            </div>
          </div>
        </div>

        <div class="next-question-timer">
          ุงูุณุคุงู ุงูุชุงูู ูู <span id="next-timer">3</span> ุซูุงูู...
        </div>
      </div>

      <!-- Final Results Screen -->
      <div id="final-screen" class="screen hidden">
        <div class="content-center">
          <h1 class="game-title">๐ ุงูุชูุช ุงููุนุจุฉ ๐</h1>

          <div class="winner-announcement">
            <div class="winner-name" id="winner-name">ุงููุงุนุจ 2</div>
            <div class="winner-icon">๐</div>
          </div>

          <!-- Final Scores -->
          <div class="final-scores">
            <div class="final-score-card">
              <div class="player-name-final">ุงููุงุนุจ 1</div>
              <div class="final-score-value" id="player1-final-score">450</div>
            </div>

            <div class="final-score-card winner">
              <div class="player-name-final">ุงููุงุนุจ 2</div>
              <div class="final-score-value" id="player2-final-score">650</div>
            </div>
          </div>

          <button id="new-game-btn" class="btn primary">ูุนุจุฉ ุฌุฏูุฏุฉ</button>
        </div>
      </div>
    </main>

    <script src="/fact-or-trick/socket.io/socket.io.js"></script>
    <!-- QR Code is now generated server-side, no CDN needed! -->
    <script src="host.js"></script>
  </body>
</html>
