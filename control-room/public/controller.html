<!DOCTYPE html>
<html lang="ar" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
    />
    <title>Ø¬Ù‡Ø§Ø² Ø§Ù„ØªØ­ÙƒÙ… - ØºØ±ÙØ© Ø§Ù„Ø³ÙŠØ·Ø±Ø©</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;600;800&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="shared/shared.css" />
    <style>
      body {
        font-family: "Cairo", sans-serif;
        background: var(--bg) url("shared/bg-1080x1920.svg") center/cover
          no-repeat fixed;
        color: var(--ink);
        -webkit-font-smoothing: antialiased;
      }

      /* Fixed brand header */
      .brand-header {
        position: fixed;
        inset: 0 0 auto 0;
        height: calc(var(--header-h) + var(--safe-top));
        padding: calc(10px + var(--safe-top)) max(16px, var(--safe-right)) 10px
          max(16px, var(--safe-left));
        display: flex;
        align-items: center;
        justify-content: space-between;
        direction: ltr;
        z-index: 20;
        pointer-events: none;
      }

      .brand-header img {
        height: clamp(56px, 8vw, 72px);
        max-width: 44vw;
        object-fit: contain;
        pointer-events: auto;
      }

      /* Main content */
      .wrap {
        min-height: 100dvh;
        padding-top: calc(var(--header-h) + var(--safe-top) + 20px);
        padding-right: max(20px, var(--safe-right));
        padding-left: max(20px, var(--safe-left));
        padding-bottom: max(30px, var(--safe-bottom));
        display: flex;
        flex-direction: column;
        gap: 20px;
      }

      /* Title section */
      .title-section {
        text-align: center;
        margin-bottom: 10px;
      }

      .title-section h1 {
        font-size: clamp(2rem, 6vw, 3rem);
        font-weight: 800;
        color: var(--accent);
        margin-bottom: 0.5rem;
        text-shadow: 0 2px 10px rgba(224, 110, 14, 0.3);
      }

      .title-section p {
        font-size: clamp(1rem, 3vw, 1.3rem);
        color: var(--ink);
        opacity: 0.9;
      }

      /* Connection status */
      .status-bar {
        background: rgba(42, 47, 87, 0.9);
        border: 2px solid var(--accent);
        border-radius: var(--radius);
        padding: 15px 20px;
        text-align: center;
        backdrop-filter: blur(10px);
        box-shadow: var(--shadow);
      }

      .status-bar.connected {
        border-color: #4caf50;
      }

      .status-bar.error {
        border-color: var(--accent-2);
      }

      .status-indicator {
        display: inline-flex;
        align-items: center;
        gap: 10px;
        font-size: 1.1rem;
        font-weight: 600;
      }

      .status-dot {
        width: 12px;
        height: 12px;
        border-radius: 50%;
        background: var(--accent-2);
        animation: pulse 2s infinite;
      }

      .status-bar.connected .status-dot {
        background: #4caf50;
        animation: none;
      }

      @keyframes pulse {
        0%,
        100% {
          opacity: 1;
        }
        50% {
          opacity: 0.4;
        }
      }

      /* Control buttons grid */
      .controls-grid {
        display: grid;
        grid-template-columns: 1fr;
        gap: 20px;
        margin-top: 10px;
      }

      /* Control button */
      .control-btn {
        background: linear-gradient(135deg, var(--card) 0%, #1e2548 100%);
        border: 3px solid var(--accent);
        border-radius: var(--radius);
        padding: 30px 20px;
        font-family: "Cairo", sans-serif;
        font-size: clamp(1.3rem, 4vw, 1.8rem);
        font-weight: 800;
        color: #fff;
        cursor: pointer;
        transition: all 0.2s ease;
        box-shadow: var(--shadow);
        position: relative;
        overflow: hidden;
        min-height: 100px;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        gap: 10px;
        text-align: center;
      }

      .control-btn:hover {
        transform: translateY(-3px);
        box-shadow: 0 15px 40px rgba(0, 0, 0, 0.5);
        border-color: #fff;
      }

      .control-btn:active {
        transform: translateY(0);
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
      }

      .control-btn:disabled {
        opacity: 0.5;
        cursor: not-allowed;
        transform: none !important;
      }

      /* Button variants */
      .control-btn.video-1 {
        border-color: var(--accent);
      }

      .control-btn.video-2 {
        border-color: #4caf50;
      }

      .control-btn.stop {
        border-color: var(--accent-2);
      }

      .control-btn.alarm {
        border-color: #ff9800;
      }

      .control-btn.video-1:hover {
        border-color: var(--accent);
        background: linear-gradient(135deg, var(--accent) 0%, #d45f00 100%);
      }

      .control-btn.video-2:hover {
        border-color: #4caf50;
        background: linear-gradient(135deg, #4caf50 0%, #2e7d32 100%);
      }

      .control-btn.stop:hover {
        border-color: var(--accent-2);
        background: linear-gradient(135deg, var(--accent-2) 0%, #b71c1c 100%);
      }

      .control-btn.alarm:hover {
        border-color: #ff9800;
        background: linear-gradient(135deg, #ff9800 0%, #f57c00 100%);
      }

      /* Button icon */
      .btn-icon {
        font-size: 2.5rem;
      }

      /* Feedback message */
      .feedback {
        position: fixed;
        bottom: 30px;
        left: 50%;
        transform: translateX(-50%) translateY(100px);
        background: rgba(42, 47, 87, 0.95);
        border: 2px solid var(--accent);
        border-radius: var(--radius);
        padding: 15px 30px;
        font-weight: 600;
        font-size: 1.1rem;
        z-index: 100;
        opacity: 0;
        transition: all 0.3s ease;
        backdrop-filter: blur(10px);
        box-shadow: var(--shadow);
        max-width: 90vw;
        text-align: center;
      }

      .feedback.show {
        opacity: 1;
        transform: translateX(-50%) translateY(0);
      }

      .feedback.success {
        border-color: #4caf50;
        color: #4caf50;
      }

      .feedback.error {
        border-color: var(--accent-2);
        color: var(--accent-2);
      }

      /* Instructions */
      .instructions {
        background: rgba(42, 47, 87, 0.6);
        border-radius: var(--radius);
        padding: 20px;
        margin-top: 10px;
        text-align: center;
        backdrop-filter: blur(5px);
      }

      .instructions h3 {
        color: var(--accent);
        font-size: 1.3rem;
        margin-bottom: 10px;
      }

      .instructions ul {
        list-style: none;
        padding: 0;
        margin: 0;
      }

      .instructions li {
        margin: 8px 0;
        font-size: 0.95rem;
        opacity: 0.9;
      }
    </style>
  </head>
  <body>
    <!-- Fixed brand header -->
    <header class="brand-header" aria-label="Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¹Ù„ÙˆÙŠ">
      <img class="brand-left" src="shared/logo.svg" alt="Ø´Ø¹Ø§Ø±" />
      <img class="brand-right" src="shared/slogan.svg" alt="Ø´Ø¹Ø§Ø± Ø§Ù„Ø­Ù…Ù„Ø©" />
    </header>

    <main class="wrap">
      <!-- Title -->
      <div class="title-section">
        <h1>Ø¬Ù‡Ø§Ø² Ø§Ù„ØªØ­ÙƒÙ…</h1>
        <p>ØºØ±ÙØ© Ø§Ù„Ø³ÙŠØ·Ø±Ø©</p>
      </div>

      <!-- Connection status -->
      <div class="status-bar" id="statusBar">
        <div class="status-indicator">
          <span class="status-dot"></span>
          <span id="statusText">Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø§ØªØµØ§Ù„...</span>
        </div>
      </div>

      <!-- Control buttons -->
      <div class="controls-grid">
        <button class="control-btn video-1" id="playVideo1Btn" disabled>
          <span class="btn-icon">â–¶ï¸</span>
          <span>ØªØ´ØºÙŠÙ„ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ - Ø§Ù„Ø¬Ø²Ø¡ Ø§Ù„Ø£ÙˆÙ„</span>
        </button>

        <button class="control-btn video-2" id="playVideo2Btn" disabled>
          <span class="btn-icon">â–¶ï¸</span>
          <span>ØªØ´ØºÙŠÙ„ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ - Ø§Ù„Ø¬Ø²Ø¡ Ø§Ù„Ø«Ø§Ù†ÙŠ</span>
        </button>

        <button class="control-btn stop" id="stopVideoBtn" disabled>
          <span class="btn-icon">â¹ï¸</span>
          <span>Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„ÙÙŠØ¯ÙŠÙˆ</span>
        </button>

        <button class="control-btn alarm" id="playAlarmBtn" disabled>
          <span class="btn-icon">ğŸš¨</span>
          <span>ØªØ´ØºÙŠÙ„ ØµÙˆØª Ø§Ù„Ø¥Ù†Ø°Ø§Ø±</span>
        </button>

        <button class="control-btn stop" id="stopAlarmBtn" disabled>
          <span class="btn-icon">ğŸ”‡</span>
          <span>Ø¥ÙŠÙ‚Ø§Ù ØµÙˆØª Ø§Ù„Ø¥Ù†Ø°Ø§Ø±</span>
        </button>
      </div>


    <!-- Feedback message -->
    <div class="feedback" id="feedbackMsg"></div>

    <!-- Socket.IO client -->
    <script src="/socket.io/socket.io.js"></script>
    <script src="controller.js"></script>
  </body>
</html>
